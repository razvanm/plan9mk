load("@rules_cc//cc:defs.bzl", "cc_library")

cc_library(
	name = "libfmt",
	srcs = [
		"dofmt.c",
		"dorfmt.c",
		"errfmt.c",
		"fltfmt.c",
		"fmt.c",
		"fmtfd.c",
		"fmtfdflush.c",
		"fmtlocale.c",
		"fmtlock.c",
		"fmtnull.c",
		"fmtprint.c",
		"fmtquote.c",
		"fmtrune.c",
		"fmtstr.c",
		"fmtvprint.c",
		"fprint.c",
		"print.c",
		"runefmtstr.c",
		"runeseprint.c",
		"runesmprint.c",
		"runesnprint.c",
		"runesprint.c",
		"runevseprint.c",
		"runevsmprint.c",
		"runevsnprint.c",
		"seprint.c",
		"smprint.c",
		"snprint.c",
		"sprint.c",
		"strtod.c",
		"vfprint.c",
		"vseprint.c",
		"vsmprint.c",
		"vsnprint.c",

		"nan64.c",

		"charstod.c",
		"pow10.c",

		"plan9.h",
		"nan.h",
		"fmtdef.h",
	],
	hdrs = ["fmt.h"],
	copts = [
		"-Ilibutf",
		"-Ilibfmt",

		"-Wno-missing-braces",
	],
	deps = ["//libutf"],
	visibility = ["//visibility:public"],
)
